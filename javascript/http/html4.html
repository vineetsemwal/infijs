<!DOCTYPE html>

<html>

<head>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
   
  <script type="text/javascript">


     //  registerEvents();

   



    async function fetchProductsHandler() {
      const url = "http://localhost:3000/products";
      const promise = axios.get(url);
      const response = await promise;
      const products = await response.data;
      console.log("result is ", products);
      const productsListNode = document.getElementById("products");
      let innerHtml = "";
      for (let product of products) {
        const productHtml = "product is " + product.id + "-" + product.name;
        innerHtml = innerHtml + "<li>" + productHtml + "</li>";
      }
      productsListNode.innerHTML = innerHtml;

    }

    function registerEvents() {
      const btn = document.getElementById("btn");
      btn.addEventListener("click", fetchProductsHandler);
    }
    window.addEventListener("DOMContentLoaded", registerEvents);


  </script>


</head>

<body>

  <h3>Product Data</h3>

  <button id="btn">Fetch Products </button>

  <ul id="products">

  </ul>

  <footer>

  </footer>

</body>

</html>